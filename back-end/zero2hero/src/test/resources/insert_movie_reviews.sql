drop table if exists authors CASCADE;
drop table if exists genres CASCADE;
drop table if exists movies CASCADE;
drop table if exists movies_genre CASCADE;
drop table if exists reviews CASCADE;

create table authors (id bigint generated by default as identity, name varchar(255), primary key (id));
create table genres (id bigint generated by default as identity, name varchar(255), primary key (id));
create table movies (id bigint generated by default as identity, classification varchar(255), country varchar(255), duration integer not null, language varchar(255), last_update timestamp, name varchar(255), rating decimal, year integer not null, primary key (id));
create table movies_genre (movie_id bigint not null, genre_id bigint not null, primary key (movie_id, genre_id));
create table reviews (id bigint generated by default as identity, review varchar(255), author_id bigint, movie_id bigint, review_id bigint, primary key (id));
alter table movies_genre add constraint MGG foreign key (genre_id) references genres;
alter table movies_genre add constraint MGM foreign key (movie_id) references movies;

insert into GENRES (ID, NAME) values (1, 'Action');
insert into GENRES (ID, NAME) values (2, 'Adventure');
insert into GENRES (ID, NAME) values (3, 'Animation');
insert into GENRES (ID, NAME) values (4, 'Comedy');
insert into GENRES (ID, NAME) values (5, 'Crime');

insert into AUTHORS (ID, NAME) values (1, 'Tariq Ali');
insert into AUTHORS (ID, NAME) values (2, 'Rudolf Arnheim');
insert into AUTHORS (ID, NAME) values (3, 'Béla Balázs');
insert into AUTHORS (ID, NAME) values (4, 'André Bazin');
insert into AUTHORS (ID, NAME) values (5, 'Peter Bogdanovich');


insert into MOVIES (ID, CLASSIFICATION, COUNTRY, DURATION, LANGUAGE, LAST_UPDATE, NAME, RATING, YEAR) values (1, 'G', 'United States of America', 178, 'English', '2022-05-24 15:47:08.703041', 'The Lord of the rings', 8.9, 2001);
insert into MOVIES (ID, CLASSIFICATION, COUNTRY, DURATION, LANGUAGE, LAST_UPDATE, NAME, RATING, YEAR) values (2, 'NC17', 'United States of America', 87, 'English', '2022-05-24 15:47:08.720504', 'Cobra', 5.8, 1986);
insert into MOVIES (ID, CLASSIFICATION, COUNTRY, DURATION, LANGUAGE, LAST_UPDATE, NAME, RATING, YEAR) values (3, 'R', 'Brazil', 130, 'Portuguese', '2022-05-24 15:47:08.729928', 'Cidade de Deus', 8.6, 2002);
insert into MOVIES (ID, CLASSIFICATION, COUNTRY, DURATION, LANGUAGE, LAST_UPDATE, NAME, RATING, YEAR) values (4, 'R', 'South Korea', 132, 'Korean', '2022-05-24 15:47:08.751521', 'Parasite', 8.5, 2019);
insert into MOVIES (ID, CLASSIFICATION, COUNTRY, DURATION, LANGUAGE, LAST_UPDATE, NAME, RATING, YEAR) values (5, 'NC17', 'United States of America', 107, 'English', '2022-05-24 15:47:08.762757', 'The Terminator', 8.1, 1984);

insert into MOVIES_GENRE (MOVIE_ID, GENRE_ID) values (1, 1);
insert into MOVIES_GENRE (MOVIE_ID, GENRE_ID) values (2, 1);
insert into MOVIES_GENRE (MOVIE_ID, GENRE_ID) values (3, 5);
insert into MOVIES_GENRE (MOVIE_ID, GENRE_ID) values (4, 4);
insert into MOVIES_GENRE (MOVIE_ID, GENRE_ID) values (5, 1);

insert into REVIEWS (ID, REVIEW, AUTHOR_ID, MOVIE_ID, REVIEW_ID) values (1, '2022-05-24T18:47:08.921847Z', 2, 1, 2);
insert into REVIEWS (ID, REVIEW, AUTHOR_ID, MOVIE_ID, REVIEW_ID) values (2, '2022-05-24T18:47:08.942162Z', 3, 2, 3);
insert into REVIEWS (ID, REVIEW, AUTHOR_ID, MOVIE_ID, REVIEW_ID) values (3, '2022-05-24T18:47:08.950007Z', 4, 3, 4);
insert into REVIEWS (ID, REVIEW, AUTHOR_ID, MOVIE_ID, REVIEW_ID) values (4, '2022-05-24T18:47:08.956545Z', 5, 4, 5);
insert into REVIEWS (ID, REVIEW, AUTHOR_ID, MOVIE_ID, REVIEW_ID) values (5, '2022-05-24T18:47:08.956621Z', 5, 4, 5);